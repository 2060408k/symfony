# Upgrade 3.3

Hi guys. Today we're talking about Symfony 3.3, but more than just the version we're talking about some big, awesome, exciting changes to how you configure services. If you're not already really comfortable with how services work in Symfony I want you to stop, go watch our Symfony Fundamentals tutorial, learn all about services there, then come back here because we're going to dive in at a deeper level to see what all the new changes are about. As always, the upgrade to Symfony 3.3 is easy, really easy, boring easy. That's because of Symfony's backwards compatibility promise. We do not break things when you upgrade a minor version like 3.2 to 3.3 so upgrading is really easy. But still, we're going to do it quickly and then we're going to jump into all of the changes.

As always, code along with me. Click download on this page and then unzip the file. Inside there you should have a start directory which looks a lot like mine. You can the readme.md file here to get your project set up.

How do we upgrade a Symfony project? Well, open composer.json. This is actually a Symfony 3.1 project. I'm just going to change this to Symfony 3.3.0-RC1. I'm doing that because Symfony 3.3 is not actually released yet. In your case you should use Symfony 3.3.Star. By the way, we could update other things here if we wanted to. I oftentimes will go to the Symfony standard edition, make sure I'm on the correct [inaudible 00:01:55] and look what the composer.json file looks like on that branch. Sometimes I upgrade mine to look like what it looks like here, but you don't have to. You can only upgrade Symfony if you want to.

With just this one change I'm going to flip over to my terminal where I'm already in the project and run a composer update. It's going to update all of my dependencies which is the easiest way to upgrade, which is fine. Just make sure that you have your dependencies tight. Or you can say composer update Symfony/Symfony as well.

Then we'll wait for Jordy to work his magic. Now, you'll see an error at the end. Even though we don't break backwards compatibility, occasionally we will make some change for an important reason that is a backwards compatibility break, but in a way where it explodes immediately. This is actually an example of that. It says the framework trusted proxies configuration has been removed. If you go to your app/config and fig.yml file you'll see this trusted proxies setting right here. Just remove that. If you have something for that value, go check out the documentation so you get updated where to do it. It had to be removed for security reasons but it was impossible for us to even run our application without it. Now even though that blew up it did update our composer.json file and our composer.lock file. I'm just going to run a composer install one more time just to make sure it gets through the whole process. This time it looks fine. Sweet!

Let's start up our built-in web server. Bin/console server:run. But, whoa! There are no commands defining the server namespace. What happened to server:run? Well actually, Symfony's becoming more and more decoupled so in Symfony 3.3 the server commands actually became their own bundle, which means in your appkernal file down here in the dev environment only I'm going to say bundles[]=new webserverbundle. That bundle still comes with Symfony by default, it just wasn't enabled on our project. It would be enabled on new projects.

Then finally we can spin back over here, run server:run then flip back and open up localhost:8000 to find our famous Aquanaut project which we've been working on in this Symfony series. Okay, we are set up. We are on Symfony 3.3. We are not yet using any of the cool, new dependency injection features. Let's dig into those.

