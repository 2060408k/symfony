# Rendering Fields Manually

Finally, let me show you the Swiss Army knife of form rendering. That is to take 100 percent complete control over how you render your forms. For example, let's not render the year drop-down via any of the form functions in more. Let's just render this entirely by hand. We'll still render the label and we'll still render the errors, for the widget, let's just do that ourselves. What I literally mean is, let's make a select tag. Let's give it an ID.

This is where we're going to leverage our form variables. If you click down in the profilor again and you look at year, we have a lot of variables that we can use to render that field. In fact there's one called ID and there's another one called full_name, which would be the name attribute. We can literally say, select ID="{{ genusform.FirstDiscoveredAt.years.vars.ID "}} We'll do the same thing for name. Name="{{ genusform.FirstDiscoveredAt.years.vars.Full_Name "}}>

Now, what about the options that should be inside of there? These year drop downs are pretty silly but let's assume we want to actually print out the year drop downs that we pre-configured. Inside the profilor under year, those are also view variables. You can see that there is a view variable called choices, and that each choice is actually a choice view object. Which if you open inside of your editor, that's deep inside of symfony. You can see that choice view's just a very simple object that has a public label property, a public value property that we can use to print those out.

Let's say {\ for choice ingenusform.FirstDiscoveredAt.years.vars.choices \} In here we'll have an option whose value equals "{{choice which is that choice view. <option Value= "{{Choice.value}}" We also need to have a selected attribute, but only if this is the option that's currently selected. The way that we can figure that out is by comparing choice.value to the data key on the genusform year type. In other words we can do an inline If statement that says "{{ Choice.value == genusform.FirstDiscoveredAt.years.vars.data ? ' selected ' : }}" If that's true we will add a selected property, other wise we won't. Finally in the option we can use {{Choice.label}}

That is it. It's kind of crazy, and you shouldn't do it very often but if you get into a weird spot, leverage those form variables. This is probably one of the hardest examples. If you merge now you'll get an error because I wasn't being very careful. Not years but year. You can see down here it's not styled as well because we've taken control of it, but you can see the error and our drop down with the correct options. Cool?

Perfect, except for this random property down here. That field is suddenly rendered after the button. What the heck is going on there? The last thing we call in our form is Form_End in Genusform and it renders the form closing tag. First it renders any field that we have not rendered. The main purpose of this is to render any hidden field we haven't rendered, because we don't really care about taking the time to render hidden fields. The problem is that since we went around the form framework, it looks like the widget for Genusform.FirstDiscoveredAt.year was never rendered. How do we tell it that it was rendered? By doing a very weird thing using a Twig tag called Do. Which simply calls a function and then say Genusforn.FirstDiscoveredAt.year.SetRendered and that's it.

Remember every form object on here is an instance of form view. If you look at that class, in addition to having a public Vars property which we're using, it also has a method called {{Set Rendered}} by calling it. We can basically say "Hey, we rendered this already." If we refresh now, it explodes, but that is because I am doing something. It's only because of my bad variable there. Now it works perfectly, no extra field down there. That's a lot of craziness, which since we didn't need it for this project. I'm going to delete and ultimately go back to just rendering the Genusfor.FirstDiscoveredAt field. Inside my Genusform type I'm going to make that a single text widget once again.

Make sure you remove all of the extra stuff. Just because we have all the power to make things look crazy, doesn't mean we need to. This was the most beautiful way to render this field. If there is something that you can think of that you still don't know how to do, let me know. I hope you guys are feeling really, really powerful with form theming. There is nothing that can stop you. If you have any questions, let me know in the comments. All right guys, see you next time.
