# Array Collection Tricks

Well, new challenge guys. Boss just came in and said it’s great that we’re showing all of the genus notes down here, but he wants a really fast way to be able to see how many recent notes there are. So new section here that says there have been 10 recent notes over the past three months. So that means up here in show action, we need to somehow get a number of the recent notes, all the notes within three months and that means that if I said recent notes equals genus arrow get notes, that’s everything, not just the recent ones. So we can’t use our lazy relationship in this case. Well, that’s not entirely true. 

It has some – remember that get notes actually returns an array collection object. That array collection object has some tricks on it and some of the tricks actually allow you to take all the notes and filter them down to a smaller collection. In fact, the method is called filter and you pass it anonymous function and that anonymous function will get a single argument which is the individual item that we’re looking through. So in this case we know it’s a genus note and here let’s just return note arrow get created at is greater than new date time of minus three months. 

So anything newer than three months is going to get filtered back and now pretty simple we can just pass recent note count is count of recent notes and then heading toward our template, add new DT to this, recent notes and just print out recent note count. All right. Give it a try. Refresh. Six. Perfect. We clearly have a lot more than six comments. That’s just getting a subset. So the array collection has lots of fun methods on it like that. Methods like contains or contains key count for all which allows you to call a method on all the individual objects so on and so forth. 

So just be aware of those and take advantage of them. Now the one big downside of this and it could be a big downside depending on how many notes you have is this actually queries for all of the genus note objects and then we filter down smaller. So there’s a performance impact to using this shortcut. So what we should really do is make a real query to only return the recent genus notes. Let’s do that next. 
