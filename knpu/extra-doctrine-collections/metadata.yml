title: 'Doctrine Collections: ManyToMany, Forms & other Complex Relations'

summary: |
    With the [basic of Doctrine relations](http://knpuniversity.com/screencast/doctrine-relations)
    behind us, it's time to dive deeper and get our hands dirty with some real-world,
    but complex collections. Honestly, this is the *hardest* part of Doctrine: so
    let's get it *right*:

    * Creating ManyToMany associations
    * Querying on ManyToMany relations
    * Mapping the inverse (collection) side of a relation
    * (bonus) Using DoctrineExtension for clean URL slugs
    * Keeping the owning & inverse sides in-sync
    * Using `orphanRemoval` to delete items in a collection
    * Using `cascade` to save items in a collection
    * Counting collections in the `EXTRA_LAZY` way
    * Rendering relationship data from both sides
    * Filtering collections efficiently with Criteria (mind will be blown)
    * Dealing with complex collection forms
    * Adding "extra" data to the "join table"

    Doctrine relationships take a little bit more work to get setup. So let's
    master this stuff, setup our relationships to win, and get back to work.

illustration: symfony-collections.png

tuts_hero:
    start_step: 'Collection Updates: Redirect to edit on save'
    finish_step: 'Criteria: Use in query builder'

chapters:
    clean-url-slugs:
        is_finished: false
        video_key: ~
    doctrine-extensions-sluggable:
        is_finished: false
        video_key: ~
    refactoring-carefully:
        is_finished: false
        video_key: ~
    many-to-many-setup:
        is_finished: false
        video_key: ~
    insert-many-to-many:
        is_finished: false
        video_key: ~
    fetch-collection-items:
        is_finished: false
        video_key: ~
    many-to-many-inverse:
        is_finished: false
        video_key: ~
    removing-items:
        is_finished: false
        video_key: ~
    hooking-up-remove-scientist-js:
        is_finished: false
        video_key: ~
    many-to-many-fixtures:
        is_finished: false
        video_key: ~
    joins-and-extra-lazy-fetch:
        is_finished: false
        video_key: ~
    entity-type-checkboxes:
        is_finished: false
        video_key: ~
    saving-inverse-side-collection:
        is_finished: false
        video_key: ~
    by-reference-adder-remover:
        is_finished: false
        video_key: ~
    synchronizing-mapping-inverse:
        is_finished: false
        video_key: ~
    many-to-many-extra-fields:
        is_finished: false
        video_key: ~
    join-entity-refactoring:
        is_finished: false
        video_key: ~
    refactoring-for-new-collections:
        is_finished: false
        video_key: ~
    embedded-form-collection:
        is_finished: false
        video_key: ~
    collection-allow-delete:
        is_finished: false
        video_key: ~
    collection-delete-orphan-removal:
        is_finished: false
        video_key: ~
    add-new-collection-prototype:
        is_finished: false
        video_key: ~
    add-new-collection-cascade-persist:
        is_finished: false
        video_key: ~
    embedded-validation:
        is_finished: false
        video_key: ~
    customizing-prototype:
        is_finished: false
        video_key: ~
    form-events-readonly-embedded-field:
        is_finished: false
        video_key: ~
    easy-collection-filtering:
        is_finished: false
        video_key: ~
    criteria-collection-filtering:
        is_finished: false
        video_key: ~
